$.fn.replicant=function(a,b){var c=$(this).data("replicantInstance");if(c){switch(a){case"replicate":return c.replicate(b,!1);case"clear":return c.clear();case"setModel":return c.setModel(b)}if(a&&a.values){c.clear();for(var d=0;d<a.values.length;d++)c.replicate(a.values[d],0==d)}return c}var e=$(this);e=$(e);var f=this;if(this.totalItems=0,this.model=$(".replicant-base",e).prop("outerHTML"),this.container=e,this.qtd=1,this.constructorParams=a,this.setModel=function(a){return this.model=a,this},this.clear=function(a){return this.container.html(this.model),$(".replicant-remove",this.container).hide(),this.qtd=1,this.constructorParams&&this.constructorParams.onRender&&this.constructorParams.onRender($(".replicant-base:last",$(this)),a),this.constructorParams&&this.constructorParams.onClear&&this.constructorParams.onClear(a),this},$(".replicant-remove",e).hide(),e.delegate(".replicant-add","click",function(){f.replicate(null,!1,!0)}),e.delegate(".replicant-clear","click",function(){f.clear(!0)}),e.delegate(".replicant-remove","click",function(){f.qtd--;var a=$(this).closest(".replicant-base");if(a.is(":last-child")){var b=a.prev(".replicant-base");$(".replicant-add",b).show(),$(".replicant-clear",b).show()}var c=a.parent();a.remove(),1==$(".replicant-base",c).length&&$(".replicant-remove",c).hide(),f.constructorParams&&f.constructorParams.onRemove&&f.constructorParams.onRemove()}),f.constructorParams&&f.constructorParams.onRender&&f.constructorParams.onRender($(".replicant-base:last",$(this))),e.data("replicantInstance",this),this.replicate=function(a,b,c){if(!this.constructorParams||!this.constructorParams.onBeforeRender||this.constructorParams.onBeforeRender(a,f.qtd,c)){if(f.qtd++,b||this.container.append(this.model),$(".replicant-remove",this.container).show(),$(".replicant-add",this.container).not(":last").hide(),$(".replicant-clear",this.container).not(":last").hide(),a)for(var d in a)"object"==typeof a[d]&&$('[name="'+d+'"]',$(".replicant-base:last",this.container)).attr(a[d].propriedade,a[d].value),$('[name="'+d+'"]',$(".replicant-base:last",this.container)).val(a[d]);f.constructorParams&&f.constructorParams.onRender&&f.constructorParams.onRender($(".replicant-base:last",$(this)),c)}},a&&a.values)for(var d=0;d<a.values.length;d++)this.replicate(a.values[d],0==d)};